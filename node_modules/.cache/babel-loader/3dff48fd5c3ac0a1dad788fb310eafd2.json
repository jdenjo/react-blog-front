{"ast":null,"code":"import _classCallCheck from \"/home/jdenjo/Documents/react-rails-blog/react-blog/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/jdenjo/Documents/react-rails-blog/react-blog/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/jdenjo/Documents/react-rails-blog/react-blog/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/jdenjo/Documents/react-rails-blog/react-blog/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/jdenjo/Documents/react-rails-blog/react-blog/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/jdenjo/Documents/react-rails-blog/react-blog/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/jdenjo/Documents/react-rails-blog/react-blog/src/App.js\";\nimport React, { Component } from 'react';\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\nimport NavBar from './NavBar';\nimport PostShowPage from './components/PostShowPage';\nimport PostIndexPage from './components/PostIndexPage';\nimport PostNewPage from './components/PostNewPage';\nimport SignInPage from './components/SignInPage';\nimport { User, Session } from \"./components/requests\";\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props));\n    _this.state = {\n      currentUser: null,\n      loading: true\n    };\n    _this.getUser = _this.getUser.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.signOut = _this.signOut.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"signOut\",\n    value: function signOut() {\n      var _this2 = this;\n\n      Session.destroy().then(function () {\n        _this2.setState({\n          currentUser: null\n        });\n      });\n    }\n  }, {\n    key: \"getUser\",\n    value: function getUser() {\n      var _this3 = this;\n\n      User.current().then(function (data) {\n        if (typeof data.id !== \"number\") {\n          _this3.setState({\n            loading: false\n          });\n        } else {\n          _this3.setState({\n            loading: false,\n            currentUser: data\n          });\n        }\n      }).catch(function () {\n        _this3.setState({\n          loading: false\n        });\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getUser();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      var _this$state = this.state,\n          loading = _this$state.loading,\n          currentUser = _this$state.currentUser;\n\n      if (loading) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 55\n          },\n          __self: this\n        });\n      }\n\n      return React.createElement(BrowserRouter, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, React.createElement(\"header\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(NavBar, {\n        currentUser: currentUser,\n        onSignOut: this.signOut,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      })), React.createElement(\"article\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"article-content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, React.createElement(Switch, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, React.createElement(Route, {\n        path: \"/posts/new\",\n        exact: true,\n        component: PostNewPage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/posts\",\n        exact: true,\n        component: PostIndexPage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/posts/:id\",\n        exact: true,\n        component: PostShowPage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/sign_in\",\n        render: function render(routeProps) {\n          return React.createElement(SignInPage, Object.assign({\n            onSignIn: _this4.getUser\n          }, routeProps, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 76\n            },\n            __self: this\n          }));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      })))))));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/home/jdenjo/Documents/react-rails-blog/react-blog/src/App.js"],"names":["React","Component","BrowserRouter","Route","Switch","NavBar","PostShowPage","PostIndexPage","PostNewPage","SignInPage","User","Session","App","props","state","currentUser","loading","getUser","bind","signOut","destroy","then","setState","current","data","id","catch","routeProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\nimport NavBar from './NavBar';\nimport PostShowPage from './components/PostShowPage';\nimport PostIndexPage from './components/PostIndexPage';\nimport PostNewPage from './components/PostNewPage';\nimport SignInPage from './components/SignInPage';\nimport { User, Session } from \"./components/requests\";\n\nclass App extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      currentUser: null,\n      loading: true\n    };\n\n    this.getUser = this.getUser.bind(this);\n    this.signOut = this.signOut.bind(this);\n  }\n\n  signOut() {\n    Session.destroy().then(() => {\n      this.setState({\n        currentUser: null\n      });\n    });\n  }\n\n  getUser() {\n    User.current()\n      .then(data => {\n        if (typeof data.id !== \"number\") {\n          this.setState({ loading: false });\n        } else {\n          this.setState({ loading: false, currentUser: data });\n        }\n      })\n      .catch(() => {\n        this.setState({ loading: false });\n      });\n  }\n\n  componentDidMount() {\n    this.getUser();\n  }\n\n\n  render() {\n\n    const { loading, currentUser } = this.state;\n\n    if (loading) {\n      return <div />;\n    }\n\n    return (\n      <BrowserRouter>\n        <div className=\"App\">\n          <header>\n            <NavBar currentUser={currentUser} onSignOut={this.signOut} />\n          </header>\n          <article>\n            <div className=\"container\">\n              <div className=\"article-content\">\n                {/* this is similar to the routes.rb page in ruby */}\n                <Switch>\n                  <Route path=\"/posts/new\" exact component={PostNewPage} />\n                  <Route path=\"/posts\" exact component={PostIndexPage} />\n                  <Route path=\"/posts/:id\" exact component={PostShowPage} />\n\n                  <Route\n                    path=\"/sign_in\"\n                    render={routeProps => (\n                      <SignInPage onSignIn={this.getUser} {...routeProps} />\n                    )}\n                  />\n\n                </Switch>\n              </div>\n            </div>\n          </article>\n        </div>\n      </BrowserRouter>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}