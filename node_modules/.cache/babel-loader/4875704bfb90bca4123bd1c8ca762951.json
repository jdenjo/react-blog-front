{"ast":null,"code":"import _classCallCheck from \"/home/jdenjo/Documents/react-rails-blog/react-blog/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/jdenjo/Documents/react-rails-blog/react-blog/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/jdenjo/Documents/react-rails-blog/react-blog/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/jdenjo/Documents/react-rails-blog/react-blog/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/jdenjo/Documents/react-rails-blog/react-blog/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/jdenjo/Documents/react-rails-blog/react-blog/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/jdenjo/Documents/react-rails-blog/react-blog/src/components/PostNewPage.js\";\nimport React, { Component } from \"react\";\nimport { Post } from \"../requests\";\nimport PostForm from \"./PostForm\";\n\nvar PostNewPage =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(PostNewPage, _Component);\n\n  function PostNewPage(props) {\n    var _this;\n\n    _classCallCheck(this, PostNewPage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(PostNewPage).call(this, props));\n    _this.state = {\n      errors: []\n    };\n    _this.createPost = _this.createPost.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(PostNewPage, [{\n    key: \"createPost\",\n    value: function createPost(params) {\n      var _this2 = this;\n\n      Post.create(params).then(function (data) {\n        if (data.errors) {\n          _this2.setState({\n            errors: data.errors\n          });\n        } else {\n          _this2.props.history.push(\"/Posts/\".concat(data.id));\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state$errors = this.state.errors,\n          errors = _this$state$errors === void 0 ? [] : _this$state$errors;\n      return React.createElement(\"main\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36\n        },\n        __self: this\n      }, \"Submit post\"), React.createElement(PostForm, {\n        errors: errors,\n        onSubmit: this.createPost,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return PostNewPage;\n}(Component);\n\nexport default PostNewPage;","map":{"version":3,"sources":["/home/jdenjo/Documents/react-rails-blog/react-blog/src/components/PostNewPage.js"],"names":["React","Component","Post","PostForm","PostNewPage","props","state","errors","createPost","bind","params","create","then","data","setState","history","push","id"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,IAAT,QAAqB,aAArB;AACA,OAAOC,QAAP,MAAqB,YAArB;;IAEMC,W;;;;;AACF,uBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACf,qFAAMA,KAAN;AAEA,UAAKC,KAAL,GAAa;AACTC,MAAAA,MAAM,EAAE;AADC,KAAb;AAIA,UAAKC,UAAL,GAAkB,MAAKA,UAAL,CAAgBC,IAAhB,uDAAlB;AAPe;AAQlB;;;;+BAEUC,M,EAAQ;AAAA;;AAEfR,MAAAA,IAAI,CAACS,MAAL,CAAYD,MAAZ,EAAoBE,IAApB,CAAyB,UAAAC,IAAI,EAAI;AAE7B,YAAIA,IAAI,CAACN,MAAT,EAAiB;AAEb,UAAA,MAAI,CAACO,QAAL,CAAc;AACVP,YAAAA,MAAM,EAAEM,IAAI,CAACN;AADH,WAAd;AAGH,SALD,MAKO;AACH,UAAA,MAAI,CAACF,KAAL,CAAWU,OAAX,CAAmBC,IAAnB,kBAAkCH,IAAI,CAACI,EAAvC;AACH;AACJ,OAVD;AAWH;;;6BAEQ;AAAA,+BACmB,KAAKX,KADxB,CACGC,MADH;AAAA,UACGA,MADH,mCACY,EADZ;AAGL,aACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADJ,EAGI,oBAAC,QAAD;AAAU,QAAA,MAAM,EAAEA,MAAlB;AAA0B,QAAA,QAAQ,EAAE,KAAKC,UAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHJ,CADJ;AAOH;;;;EApCqBP,S;;AAuC1B,eAAeG,WAAf","sourcesContent":["import React, { Component } from \"react\";\nimport { Post } from \"../requests\";\nimport PostForm from \"./PostForm\";\n\nclass PostNewPage extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            errors: []\n        };\n\n        this.createPost = this.createPost.bind(this);\n    }\n\n    createPost(params) {\n\n        Post.create(params).then(data => {\n\n            if (data.errors) {\n\n                this.setState({\n                    errors: data.errors\n                });\n            } else {\n                this.props.history.push(`/Posts/${data.id}`);\n            }\n        });\n    }\n\n    render() {\n        const { errors = [] } = this.state;\n\n        return (\n            <main>\n                <h1>Submit post</h1>\n\n                <PostForm errors={errors} onSubmit={this.createPost} />\n            </main>\n        );\n    }\n}\n\nexport default PostNewPage;\n"]},"metadata":{},"sourceType":"module"}